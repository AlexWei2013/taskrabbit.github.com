<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>TaskRabbit - Posting a Task with locations</title>
    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/grid.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/documentation.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  
  <body>
    <div id="header">
    </div>
    <div id="main">
      <div id="sidebar" class="span-6">
        <ul>
        
          <li><a href="/post_simple.html">Posting a Simple Task</a></li>
        
          <li><a href="/auth.html">Oauth</a></li>
        
          <li><a href="/post_task_parameters.html">Parameters for posting a task</a></li>
        
          <li><a href="/post_with_location.html">Posting a Task with locations</a></li>
        
          <li><a href="/post_with_photo.html">Posting a Task with a photo</a></li>
        
          <li><a href="/post_with_sound.html">Posting a Task with a sound</a></li>
        
          <li><a href="/account.html">User account informations</a></li>
        
        </ul>
      </div>
      <div id="content" class="span-18 last">

        <h1 id="posting-a-task-with-locations">Posting a Task with locations</h1>

<p>Posting a Task with locations allows TaskRabbit to alert based on geography in conjunction with other Task attributes.</p>

<h2 id="setup">Setup</h2>

<ul>
  <li>There is a user who is authenticated to your client application</li>
  <li>The user has an authorization token of &ldquo;rRou72pewt102y926jfhwow438238poQR31d&rdquo;</li>
</ul>

<h3 id="required-values">Required Values</h3>

<p>By passing in the address of a Task location, source or destination (pickup/delivery example) will allow us to geolocate the task for alerting. You do not need to pass in the city as it will be calculated and assigned automatically based on the location information provided.</p>

<h3 id="post-apiv1tasks">POST /api/v1/tasks</h3>

<ul>
  <li>Authorization: OAuth rRou72pewt102y926jfhwow438238poQR31d</li>
  <li>Content-Type: application/json</li>
</ul>

<p><code>json
{
  "task": {
    "name":"My First Task", 
    "named_price": 20, 
    "other_locations_attributes": [
      {
        "name": "Home",
        "address": "123 Main St",
        "city": "Boston",
        "state": "MA",
        "zip": "02154",
        "lat": "42.358432",
        "lng": "-71.059774"
      }, 
      {
        "name": "Middle of the park",
        "lat": "42.358430",
        "lng": "-71.059772"
      }
    ]
  }
}
</code></p>

<h3 id="simplified-response">Simplified Response</h3>

<ul>
  <li>Status Code: 200</li>
  <li>Content-Type: application/json</li>
</ul>

<p><code>json
{
  "id": 2820,
  "name": "My First Task",
  "named_price": 20,
  "state": "opened",
  "city": {
    "name": "Boston",
    "id": 1
  },
  "links": {
    "get": "/api/v1/tasks/2820"
  }
}
</code></p>


      </div>
    </div>

     <div id="footer" >
    </div><!-- /#footer -->
  </body>
</html>